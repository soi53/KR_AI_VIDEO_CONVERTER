# 비디오 번역 및 더빙 자동화 프로젝트 변경 이력

이 파일은 원본 코드에서 현재까지의 주요 변경 사항을 기록합니다.

## 2023-07-05: 기술 스택 변경

### WhisperX에서 Faster Whisper로 변경
- **변경 이유**: 성능 향상 및 안정성 개선
- **변경 내용**:
  - WhisperX 컨테이너 의존성 제거
  - faster-whisper Python 라이브러리로 대체
  - Docker 설정에서 WhisperX 서비스 제거
  - 관련 코드 및 설정 파일 업데이트

### 번역 모델 변경
- **변경 전**: OpenAI GPT-4
- **변경 후**: OpenAI GPT-4o
- **변경 이유**: 비용 절감 및 동등한 성능 유지
- **변경 내용**:
  - OpenAI 모델 설정을 `gpt-4`에서 `gpt-4o`로 변경
  - 환경 변수 및 기술 스택 문서 업데이트

## 2023-07-05: 환경 설정 변경

### API 키 설정
- OpenAI API 키 추가 (실제 환경에서 사용하기 위함)
- `.env` 파일 구성 완료

### 파일 업로드 크기 제한 변경
- **변경 전**: Streamlit 기본 200MB, 코드 설정 500MB
- **변경 후**: 2000MB (2GB)
- **변경 내용**:
  - `.streamlit/config.toml` 파일 생성 및 설정
  - `.env` 및 `.env.example` 파일의 `MAX_UPLOAD_SIZE_MB` 값 수정
  - 코드에서는 이미 파일 크기 제한 검사가 제거되어 있었음

## 2023-07-05: 코드 구조 및 기능 변경

### 자막 추출 로직 변경
- WhisperX 컨테이너 호출 방식에서 Faster Whisper 라이브러리 직접 사용 방식으로 변경
- API 호출 구조 간소화 및 최적화

### 그 외 변경 사항
- 도커 설정 간소화 (WhisperX 서비스 제거)
- 문서 업데이트 (PRD, 구현 계획, 기술 스택 등)

## 2023-07-05: 성능 향상 사항

### Faster Whisper 도입으로 인한 이점:
- 속도: 기존 대비 약 4배 빠른 처리 속도
- 메모리: 더 낮은 메모리 사용량
- 안정성: 타임아웃 에러 감소
- 효율성: VAD 필터로 음성이 없는 부분 불필요한 처리 감소
- CPU 효율: INT8 양자화로 CPU에서도 효율적 동작 가능

### GPT-4o 도입으로 인한 이점:
- 비용 절감: GPT-4 대비 약 2-3배 저렴한 API 비용
- 유사한 성능: 번역 품질 유지
- 응답 속도 향상: 더 빠른 API 응답 시간

이 변경 내역은 프로젝트의 주요 수정 사항만을 기록한 것이며, 세부적인 코드 변경은 버전 관리 시스템을 통해 확인할 수 있습니다.

# 개발 히스토리

## 2025-04-14
- faster-whisper 라이브러리를 OpenAI Whisper로 교체
  - Python 버전 호환성 문제 및 Streamlit과의 충돌 해결
  - 오류 메시지 "tuple index out of range" 문제 해결
  - Docker 설정 및 앱 코드 업데이트

## 2024-03-12
- 영상 길이 제한 늘림: 최대 2GB로 변경
- 고품질 음성 합성 엔진 XTTS-v2 통합

## 2024-02-27
- 언어 지원 추가: 독일어, 인도네시아어 지원
- 사용자 인터페이스 개선: 더 직관적인 워크플로우 구성

## 2024-02-10
- 자막 편집 기능 개선: 텍스트 편집 후 즉시 미리보기 기능 추가
- 음성 합성 품질 개선: 더 자연스러운 목소리로 업그레이드

## 2024-01-25
- 동영상 처리 속도 개선: FFmpeg 옵션 최적화
- 자막 추출 정확도 향상: Whisper 모델 업그레이드 (large-v2 → large-v3)

## 2024-01-05
- 초기 버전 출시
- 기본 기능 구현: 자막 추출, 번역, TTS, 동영상 합성 